// function fn(d, a) {
//     return "object" == typeof d
//         ? d
//         : a?.["content-type"]?.includes("application/json")
//             ? d?JSON.parse(d)
//             : null
//             : d
// }

// function o(e) {
//     const {body: d, headers: a} = e;
//     console.log("object" == typeof d );
//     console.log(a?.["content-type"]?.includes("application/json") )
//     // return "object" == typeof d 
//     //     ? d 
//     //     : a?.["content-type"]?.includes("application/json") 
//     //         ? d?JSON.parse(d) 
//     //         : null : d
//     return "object" == typeof d 
//         ? d 
//         : a?.["content-type"]?.includes("application/json") 
//             ? (d ? JSON.parse(d) : null)
//             : d
// }

// let a = '{"x":11,"b":222}';

// o(a, {});
// br(412, 0, "p3J]") // [name]
// dr(0, 0, "&db]", 0, -206) // '^=tw]'
// // [name^=tw]
// Lr(Pr(br(412, 0, "p3J]") + dr(0, 0, "&db]", 0, -206))[0], Jr(0, 0, 0, "@H&P", -350) + "nt")

// [ar,Or,mr,Pr,Sr,Gr,Nr,Qr,qr,wr,Ir,lr,pr] = 
// [Cr['Number'], Cr['TextEncoder'], Cr['Uint8Array'], n => document.querySelectorAll("[name^=tw]"), Cr['Date'], Cr['Uint32Array'], Cr['crypto']['subtle'], Cr['Array']['from'], Cr['RTCPeerConnection'], Cr['Promise'], Cr['Function'], Cr['getComputedStyle']];
// // sr[Rr(-47, "#ZoE", 139, 151, 41) + br(440, 412, "zcN)", 386, 365) + Jr(-476, -286, -292, "Wd^c", -421) + "l"](n) => document.querySelectorAll("[name^=tw]")

// gr[r("xXz)", -yn)](Xr, new Fr([gr[a(0, 0, Jn, 0, "wS*Z")](gr[a(0, 0, Kn, 0, "Q(7N")](uo), 256)][c(0, 0, Ln, 253) + "t"](gr[d(Fn, 14)](br, i), gr[c(0, 0, vn, 222)](br, e), gr[a(0, 0, 623, 0, Zn)](eo, gr[d(An, -Mn)](br, new Fr(await gr[c(0, 0, "xXz)", bn)](_r, gr[a(0, 0, 528, 0, "^N9[")](gr[o(0, "X$3w", 0, 0, Bn)]([t, n, u][o(0, Vn, 0, 0, 1142)]("!"), gr[o(0, "6h0R", 0, 0, In)]), f))))[c(0, 0, "6h0R", 267) + "t"](No)), [fo]))[r(Hn, -zn)](Qo))
// Ur(Wo(vr(n))[t[5] % 4][lo(-170, "y5Jw", -258, -39, -142) + mo("9f6t", 1294, 1306, 1192, 1237)][0][Tr("QGvx", 0, 0, -202) + mo("qoyW", 1400, 1309, 1375, 1434)][1], "d")[Tr("Q(7N", 0, 0, -292) + lo(-79, "gpv!", -44, -50, -2)](9)[mo("3aF5", 1398, 1535, 1534, 1538)]("C")[wr(553, 0, 0, 0, "890N")]((n => n[lo(174, "mpmr", -87, 47, 55) + "ce"](/[^\d]+/g, " ")[mo("#Qn7", 1432, 1490, 1631, 1363)]()[lo(162, "ra3a", 126, -99, 30)](" ")[Gr(0, "xXz)", 0, 661)](Kr)))
// // 1、获取svg元素列表
// // 2、取下标为2的svg
// // 3、读取其childNodes属性
// // 4. 取下标为0的子节点
// // 5. 取其childNodes属性，与字符串d，作为参数传入Ur
// // 6. 

//         new bu(( () => {
//             const A = 552
//               , D = 116
//               , Y = 525
//               , U = 582
//               , $ = {
//                 qyxpM: function(n, t) {
//                     return fn[function(n, t, W, r, o) {
//                         return u(o - 309, r)
//                     }(0, 0, 0, "!^d7", F)](n, t)
//                 },
//                 cNVdq: function(n, t) {
//                     return fn[(W = "$uE!",
//                     r = 1372,
//                     u(r - 867, W))](n, t);
//                     var W, r
//                 },
//                 ySDyT: function(n, t) {
//                     return fn[function(n, t, W, r, o) {
//                         return u(o - -752, r)
//                     }(0, 0, 0, E, -X)](n, t)
//                 },
//                 BeZcY: function(n, t) {
//                     return fn[(W = "KFxu",
//                     r = U,
//                     u(r - 79, W))](n, t);
//                     var W, r
//                 },
//                 BjvLa: function(n) {
//                     return fn[(t = J,
//                     W = M,
//                     u(t - 303, W))](n);
//                     var t, W
//                 },
//                 PepGI: fn[_($t, _t, nW, 488, tW)]
//             };
//             function _(n, t, W, r, u) {
//                 return Sn(u - -662, n, W - y, r - B, u - H)
//             }
//             function nn(n, t, W, r, u) {
//                 return cn(0, 0, n - -j, 0, u)
//             }
//             function tn(n, t, W, r, u) {
//                 return kn(0, 0, r, W - 198)
//             }
//             function Wn(n, t, W, r, u) {
//                 return dn(0, 0, 0, t - Y, u)
//             }
//             function rn(n, t, W, r, u) {
//                 return Sn(u - -737, n, W - D, r - 125, u - 263)
//             }
//             if (fn[Wn(0, 1327, 0, 0, "KFxu")](fn[_("Sgl7", 0, WW, rW, 308)], fn[tn(0, 0, uW, oW)]))
//                 try {
//                     const n = Z[nn(-274, 0, 0, 0, "5^83")] || Lu;
//                     xu = fn[nn(-cW, 0, 0, 0, eW)](Ju, fn[tn(0, 0, iW, "931N")](zu, [n[fn[Wn(0, 1457, 0, 0, "u4ia")]($u[5], 8)] || "4", n[fn[_("KFxu", 0, 354, fW, dW)](Eu[8], 8)]])),
//                     pu[nn(kW, 0, 0, 0, "6E)T")]()
//                 } catch {}
//             else {
//                 const u = new Lu
//         , j = fn[tn(0, 0, -iW, "6I&l")](no)[rn("eCOK", 0, 503, 554, 453) + Wn(0, 1328, 0, 0, "x]I2")](36);
//     ao = u[rn("x]I2", 0, 413, SW, aW) + tn(0, 0, -72, "tJ^3") + tn(0, 0, -12, "x]I2") + "el"](j),
//     u.createOffer()
//         .then((y => {
//                     const B = "5^83"
//                         , H = 1251
//                         , J = "9!8j"
//                         , M = 146
//                         , E = 573
//                         , X = 113
//                         , F = 158;
//                     function D(n, t, W, r, u) {
//                         return nn(r - A, 0, 0, 0, n)
//                     }
//                     function Y(n, t, W, r, u) {
//                         return nn(r - 1285, 0, 0, 0, u)
//                     }
//                     function U(n, t, W, r, u) {
//                         return nn(u - -F, 0, 0, 0, W)
//                     }
//                     function Z(n, t, W, r, u) {
//                         return tn(0, 0, n - -X, W)
//                     }
//                     function Wn(n, t, W, r, u) {
//                         return _(n, 0, W - M, r - 377, t - -E)
//                     }
//                     if (fn[Z(-t, 0, "$uE!")](fn[U(0, 0, "rBWl", 0, -170)], fn[U(0, 0, W, 0, -r)])) {
//                         const n = {
//                             I: 270,
//                             P: 717,
//                             A: 586,
//                             t: ")#!!",
//                             C: 647,
//                             n: "1&O6",
//                             g: 787,
//                             E: 815,
//                             U: 862,
//                             m: 702,
//                             M: 921,
//                             Z: 947,
//                             i: 1440,
//                             T: 1191,
//                             B: 343,
//                             k: 333
//                         }
//                             , t = {
//                             I: 42
//                         }
//                             , W = {
//                             I: 315,
//                             P: 348
//                         }
//                             , r = {
//                             I: 715,
//                             P: 386
//                         }
//                             , u = {
//                             I: "rBWl",
//                             P: 1226,
//                             A: 1209
//                         }
//                             , O = {
//                             I: 11,
//                             P: 405
//                         }
//                             , I = {
//                             I: 250,
//                             P: 19
//                         }
//                             , R = {
//                             I: 1196
//                         }
//                             , q = {
//                             wfZHx: function(n, t) {
//                                 return $[(W = "u4ia",
//                                 r = R.I,
//                                 Y(0, 0, 0, r - 159, W))](n, t);
//                                 var W, r
//                             },
//                             KZuWm: function(n, t) {
//                                 return $[function(n, t, W, r) {
//                                     return Y(0, I.I, I.P, n - -478, r)
//                                 }(660, 0, 0, J)](n, t)
//                             },
//                             nUqbd: function(n, t) {
//                                 return $[function(n, t, W, r) {
//                                     return Y(0, O.I, O.P, r - -14, t)
//                                 }(0, u.I, u.P, 1272, u.A)](n, t)
//                             },
//                             YIxrR: function(n, t) {
//                                 return $[function(n, t, W, r, u) {
//                                     return U(0, 0, r, 0, u - 1446)
//                                 }(0, 0, 0, B, H)](n, t)
//                             }
//                         }
//                             , P = new So
//                             , g = $[Y(0, 0, 0, 1122, o)](yu)[Wn(c, -e, -i, -f) + Y(0, 0, 0, 1021, "*ht)")](36);
//                         Yu = P[D(d, 0, 0, k) + D(S, 0, 0, 440) + U(0, 0, "8oUs", 0, -236) + "el"](g),
//                         P[U(0, 0, a, 0, -m) + U(0, 0, "w0nS", 0, -426) + "r"]()[Wn("d2]7", -s, -74, -C)]((u => {
//                             const o = 586;
//                             function c(n, t, W, r, u) {
//                                 return Wn(n, r - o, W - 7, r - 132)
//                             }
//                             function e(n, t, r, u, o) {
//                                 return Y(0, W.I, 0, t - -W.P, n)
//                             }
//                             try {
//                                 const W = u[c("x]I2", 0, n.I, 388)] || g;
//                                 pu = q[(n.P,
//                                 n.A,
//                                 d = n.t,
//                                 n.C,
//                                 k = 668,
//                                 Z(k - r.I, 0, d, 0, r.P))](V, q[e(n.n, n.g, n.E, n.U, n.m)](no, [W[q[e("u4ia", n.M, n.Z)](Au[5], 8)] || "4", W[q[(i = 1328,
//                                 f = "eCOK",
//                                 n.i,
//                                 n.T,
//                                 D(f, 0, 0, i - 1008, t.I))](ro[8], 8)]])),
//                                 P[c("K6*B", n.B, 295, n.k)]()
//                             } catch {}
//                             var i, f, d, k
//                         }
//                         ))[D("6I&l", 0, 0, m)](Lu)
//                     } else
//                         try {
//                             if (fn[U(0, 0, "kEzz", 0, -O)](fn[Y(0, 0, 0, 1185, ")#!!")], fn[D(I, 0, 0, 509)])) {
//                                 const n = n[Wn("pu!T", -R, -32, 7) + Y(0, 0, 0, 1178, "x]I2") + U(0, 0, q, 0, -309)]($[Wn(W, -P, -g, -h)]);
//                                 return Fu[Wn("o!b%", -x, -l, -v)][Wn("931N", -270, -G, -Q) + "d"](n),
//                                 [n, () => n([n])]
//                             }
//                             {
//                                 const t = y[Y(0, 0, 0, 1253, p)] || j;
//                                 mo = fn[U(0, 0, K, 0, -399)](zu, fn[Z(-201, 0, w)](Au, [t[fn[Wn("]Iv)", -N, -z, -T)](n[5], 8)] || "4", t[fn[Y(0, 0, 0, L, "kEzz")](n[8], 8)]])),
//                                 u[Y(0, 0, 0, 1027, b)]()
//                             }
//                         } catch {}
//                         }
//                 ))
//                 .catch(Wo)
//             }
//         }
// )).catch(Wo);

// return async (n, t) => {
//     const r = 906;
//     function o(n, t, r, o, W) {
//         return jW(o, 0, n - -865)
//     }
//     function W(n, t, o, W, u) {
//         return sW(0, u, 0, 0, n - -r)
//     }
//     function u(n, t, r, o, W) {
//         return sW(0, n, 0, 0, W - -46)
//     }
//     function c(n, t, r, o, W) {
//         return ru(0, 0, W, n - 1034)
//     }
//     const e = dW[s(-364, -vn, -516, -Qn, "aNUC")](MW, dW[c(Bn, 0, 0, 0, Dn)](dW[s(-481, -Fn, -bn, -282, wn)](CW[c(646, 0, 0, 0, "zze%")](), dW[o(Nn, 0, 0, "g5B)")](VW, 1e3)), 1e3))
//       , f = new qW(new OW([e])[s(-476, -460, -Kn, -In, Mn) + "r"])
//       , i = dW[o(An, 0, 0, "Oo*o")](QW)
//       , d = dW[u("5gMe", 0, 0, 0, Jn)](tu, i);
//     function s(n, t, r, o, W) {
//         return jW(W, 0, t - -rt)
//     }
//     // return dW[s(0, -Ln, 0, 0, Xn)](vW, new qW([dW[W(Vn, 0, 0, 0, "!)3%")](dW[u(Hn, 0, 0, 0, 1273)](AW), 256)][W(608, 0, 0, 0, Tn) + "t"](dW[W(644, 0, 0, 0, "#tsW")](PW, i), dW[c(561, 0, 0, 0, "g5B)")](PW, f), dW[W(593, 0, 0, 0, "emor")](JW, dW[W(En, 0, 0, 0, Un)](PW, new qW(await dW[o(68, 0, 0, Zn)](bW, dW[W(jn, 0, 0, 0, Yn)](dW[s(0, -472, 0, 0, "wVlb")]([t, n, e][o($n, 0, 0, "j@zJ")]("!"), dW[s(0, -439, 0, 0, _n)]), d))))[W(521, 0, 0, 0, "JbD2") + "t"](_W)), [XW]))[o(nt, 0, 0, tt)](TW))
//     // return dW.aASPl(vW, new Uint8Array(
//     //     [dW.YfbpM(dW.IxMid(AW), 256)].concat(dW.Ofxsi(PW, i),
//     //     dW.iLiWK(PW, f),
//     //     dW.iLiWK(JW, dW.Grddz(PW, new Uint8Array(await dW.zuGtS(bW, dW.AnTsN(dW.XhLqB(["POST", "/i/api/1.1/jot/client_event.json", 63248592].join("!"), "obfiowerehiring"), d)))).concat(_W)), [XW])
//     // ).map(TW))
//     return dW.aASPl(
//         vW,
//         new Uint8Array(
//             [dW.YfbpM(dW.IxMid(AW), 256)].concat(dW.Ofxsi(Array.from, i), 
//             dW.iLiWK(Array.from, f),
//             dW.Grddz(JW, dW.MaByO(
//                 Array.from,
//                 new Uint8Array(await dW.zuGtS(bW, dW.AnTsN(dW.XhLqB(["POST", "/i/api/1.1/jot/client_event.json", 63248592].join("!"), dW.AxWJR), d)))).concat(_W)),
//                 [XW])).map(TW))
// }

// function fn() {
//     // dW.AnTsN("POST!/i/api/1.1/jot/client_event.json!63315883", "obfiowerehiring") -> POST!/i/api/1.1/jot/client_event.json!63315883obfiowerehiring
//     // d -> 54476e0f5c28f5c28f5c0451eb851eb8520451eb851eb8520f5c28f5c28f5c00
//     // dW.zuGtS -> 加密方法；调用SubtleCrypto.digest(), 算法为sha256
//     // bW -> 是一个方法；用于处理传入的参数，如果是字符串的话，就将其转换为base64格式（new TextEncoder().encode(p)）
//     // let a = new Uint8Array(await dW.zuGtS(bW, dW.AnTsN("POST!/i/api/1.1/jot/client_event.json!63315883", "obfiowerehiring"), d)))).concat(_W)),
//     return dW.aASPl(
//         vW,
//         new Uint8Array(
//             [
//                 dW.YfbpM(
//                     dW.IxMid(AW), // 返回一个随机数；Math.random()，并与第二个参数相乘
//                     256
//                 )
//             ].concat(
//                 dW.Ofxsi(Array.from, i), // 将Uint8Array类型转为数组
//                 dW.iLiWK(Array.from, f), // 将Uint8Array类型转为数组
//                 dW.Grddz(
//                     JW, // 裁剪第二个参数，从0-16范围
//                     dW.MaByO(
//                         Array.from,
//                         new Uint8Array(
//                             await dW.zuGtS(bW, dW.AnTsN(dW.XhLqB(["POST", "/i/api/1.1/jot/client_event.json", 63248592].join("!"), dW.AxWJR), d)) // -> POST!/i/api/1.1/jot/client_event.json!63315883obfiowerehiring54476e0f5c28f5c28f5c0451eb851eb8520451eb851eb8520f5c28f5c28f5c00
//                         )
//                     ).concat(_W)
//                 ),
//                 [XW]
//             )
//         ).map(TW)
//     )
// }

// function fn2() {
//     return dW.aASPl(vW, new Uint8Array([dW['YfbpM'](dW['IxMid'](AW), 256)]['concat'](dW['Ofxsi'](PW, i), dW['iLiWK'](PW, f), dW['Grddz'](JW, dW['MaByO'](PW, new Uint8Array(await dW['zuGtS'](bW, dW['AnTsN'](dW['XhLqB']([t, n, e].join("!"), dW['AxWJR']), d))))['concat'](_W)), [XW])).map(TW))
// }

var So = n => (n < 16 ? "0" : "") + n['toString'](16);
const Ko = (n, t, W, r) => {
    const o = Hr['sTXrz'](Hr['NwcGI'](Hr['slAir'](n, Hr['FmgRL'](W, t)), 255), t);
    return o.toFixed(2);
};
const Ro = (n) => Math.round(n);
async function test1(str) {
    // console.log(test1.name);
    const d1 = new TextEncoder().encode(str);
    const r = await window.crypto.subtle.digest('sha-256', d1);
    return new Uint8Array(r);
}

const TW = (n, t, W) => t ? n ^ W[0] : n

async function generateTransactionId(tsv, d) {
    console.log(generateTransactionId.name);
    // POST!/i/api/1.1/jot/client_event.json!63327144obfiowerehiring
    // POST!/i/api/1.1/jot/client_event.json!63322651obfiowerehiring740290f851eb851eb8503d70a3d70a3d703d70a3d70a3d70f851eb851eb8500
    const p1 = createP1();
    const arr1 = createP3(tsv);
    const arr2 = createP2(p1);
    const arr3 = createP4(d);
    let n = arr1;
    const [t, An] = [Hr['ONqDe'](arr1[30], 16), Hr['yKeoX'](Hr['DyztN'](Hr['fUUce'](n[43], 16), Hr['fUUce'](n[31], 16)), Hr['fUUce'](n[8], 16))]
    n = arr3[t];
    const W = 360, t1 = 60;
    const o = Hr['sTXrz'](Hr['NwcGI'](Hr['slAir'](n[6], Hr['FmgRL'](W, t1)), 255), t1);
    const keyframes = {
        color: ["#" + So(n[0]) + So(n[1]) + So(n[2]), "#" + So(n[3]) + So(n[4]) + So(n[5])],
        transform: ["rotate(0deg)", `rotate(${Math.floor(o)}deg)`],
        easing: "cubic-bezier(" + Array.from(n['slice'](7))['map'](((n, t) => Ko(n, t % 2 ? -1 : 0, 1)))['join']() + ")"
    };
    Array.from(n['slice'](7))['map'](((n, t) => Ko(n, t % 2 ? -1 : 0, 1)))[eo(-227, 0, "6#Os")]()
    const duration = 4096;
    const styles = computeAnimationValues(keyframes, duration, Hr['kHgiW'](Hr['qCCer'](Ro, Hr['UoXGF'](An, 10)), 10));
    const p5 = createP5(styles);
    const d3 = await test1(`POST!/i/api/1.1/jot/client_event.json!${p1}obfiowerehiring${p5}`);
    const d4 = [Math.random() * 256].concat(
        Array.from(arr1),
        Array.from(arr2),
        Array.from(d3).concat(["o", "-"]).slice(0, 16),
        [3]
    );
    const uint8array = new Uint8Array(d4).map(TW);
    return btoa(Array.from(uint8array).map((item => String.fromCharCode(item))).join("")).replace(/=/g, "")
}

// 生成一个数字；
function createP1() {
    const v1 = 1682924400 * 1e3;
    const v2 = Date.now();
    const v3 = v2 - v1;
    const v4 = v3 / 1e3;
    return Math.floor(v4);
}

// 生成一个长度为4的一维数组；
// 根据p1生成一个Uint8Array类型实例；
function createP2(p1) {
    const v1 = new Uint32Array([p1]).buffer;
    const v2 = new Uint8Array(v1);
    return v2;
}

// 生成一个长度为48的一维数组；
// p3有点麻烦，它依赖于网站的一些dom节点；
// 经研究后，发现是一个固定参数，且可以从html页面中获取，麻烦的是p4；
function createP3(tsv) {
    // const selector = "[name^=tw]";
    // const elements = document.querySelectorAll(selector);
    // 选择后，取得下标为0的节点，并获取其content属性
    // const element = elements[0];
    // conetent已经经过base64编码
    // const content = element.getAttribute("content") || "";
    // const tsv = "uG0JE1rBTR+S/HrWEMNPixzKBPiW5RauizYTehXdohRGg1lraCewk1DbQVQDB4cf";
    const chars = window.atob(tsv).split("").map((n => n.charCodeAt(0)))
    return new Uint8Array(chars);
}

// 生成一个长度为16的二维数组；
// 这个svg的路径参数，在推文文档里也有；
// 选取哪一个svg是不固定的，而是通过tsv生成数组后决定，arr1[5] % 4为svg节点列表的下标
function createP4(d) {
    //ko = so(lo(Yr(n))[t[5] % 4][eo(-167, 0, "JAHu") + io(458, 0, 0, 0, "6#Os")][0][io(368, 0, 0, 0, "hv[%") + io(456, 0, 0, 0, "buo*")][1], "d")[po("azn]", 301, 237, 166, 282) + io(561, 0, 0, 0, "Dv#G")](9)[go(708, 858, "alaz", 803, 705)]("C")[jr(0, 0, 0, 1083, ")N6E")]((n => n[go(658, 721, "w2Nm", 603, 649) + "ce"](/[^\d]+/g, " ")[eo(-257, 0, "qLqW")]()[po("azn]", 254, 34, 142, 186)](" ")[jr(0, 0, 0, 899, "JAHu")](Xr)))
    // const [] = [p3[2] % 16, *]
    // 看起来是这样：将节点列表转为数组后，如果节点为子节点时，使用其父节点移除当前节点（当前节点会返回）
    // var ac = n => Array.from(n).map((n => (n.parentElement?.removeChild(n), n)));
    // ac(Er(n))[t[5] % 4][jr(0, 0, 751, 0, "GTlm") + Qc(1061, 1065, "0zxg", 1156, 1152)][0][Qc(1119, 1192, "H02k", 1083, 1160) + cc(0, 519, 0, 0, "p1Lo")][1]：取得下标为1(t[5] % 4)的节点，并取其childrenNodes属性，然后获取下标为0的节点，再获取其chidrenNodes属性，取下标为1的节点
    // kc(ac(...), "d")：取得d属性
    // [oc(0, 0, 1164, 0, "^tqD") + Qc(1162, 1221, "C8mc", 1290, 1050)](9)：从下标9开始截取
    // [cc(0, 649, 0, 0, "sAw6")]("C")：以C为分隔符分割字符
    // [oc(0, 0, 1207, 0, "U($[")]：调用map方法
    // ((n => n[Qc(1018, 924, "YRfT", 1109, 936) + "ce"](/[^\d]+/g, " ")：替换字符
    // [cc(0, 454, 0, 0, "j6gf")]()：并删除两边空字符
    // [cc(0, 607, 0, 0, "lAln")](" ")：分割字符
    // [cc(0, 607, 0, 0, "lAln")](zr)：最后调用map方法，zr为Number
    // 20250504：M 10,30 C 60,199 179,82 232,198 h 50 s 173,186 86,2 C 63,99 89,228 51,183 h 92 s 5,1 53,91 C 226,146 16,125 52,214 h 79 s 40,84 127,212 C 79,30 200,127 227,185 h 128 s 223,150 249,203 C 132,127 234,40 156,95 h 147 s 107,29 210,40 C 66,16 239,68 39,164 h 225 s 216,184 201,240 C 2,71 20,153 25,61 h 133 s 162,47 146,4 C 60,252 216,111 120,174 h 199 s 207,233 241,170 C 254,151 206,139 34,219 h 156 s 87,195 66,80 C 135,151 184,99 81,246 h 24 s 87,168 151,43 C 98,239 85,216 150,125 h 63 s 171,27 35,246 C 39,137 226,7 49,237 h 144 s 83,63 166,165 C 53,193 12,57 237,58 h 49 s 241,48 101,104 C 60,165 98,130 229,41 h 13 s 111,66 57,140 C 85,168 208,231 249,0 h 212 s 173,177 176,141 C 126,171 103,72 112,191 h 76 s 155,213 151,39
    // var _d = d || "M 10,30 C 157,21 148,141 181,115 h 184 s 154,66 95,130 C 148,30 211,4 223,43 h 39 s 72,5 176,83 C 129,111 75,4 89,188 h 203 s 158,98 62,193 C 88,67 109,16 143,118 h 182 s 228,168 221,233 C 236,248 142,209 236,18 h 150 s 15,105 53,226 C 70,221 154,123 228,5 h 25 s 234,193 61,81 C 145,112 100,133 60,230 h 245 s 60,115 224,170 C 102,245 113,41 45,117 h 217 s 86,221 121,8 C 218,100 205,215 71,212 h 58 s 194,48 231,245 C 82,195 93,172 190,4 h 184 s 250,229 8,130 C 51,2 118,116 2,222 h 52 s 14,18 5,197 C 138,41 141,46 217,96 h 179 s 236,255 198,179 C 60,58 242,45 149,113 h 73 s 249,83 149,233 C 97,7 203,77 250,42 h 131 s 217,110 175,149 C 4,96 253,228 182,230 h 112 s 164,179 130,176 C 120,70 72,222 154,242 h 5 s 43,10 233,152";
    // dc = (n, t) => uc = kc(ac(Er(n))[t[5] % 4][jr(0, 0, 751, 0, "GTlm") + Qc(1061, 1065, "0zxg", 1156, 1152)][0][Qc(1119, 1192, "H02k", 1083, 1160) + cc(0, 519, 0, 0, "p1Lo")][1], "d") // 取d
    //     [oc(0, 0, 1164, 0, "^tqD") + Qc(1162, 1221, "C8mc", 1290, 1050)](9)[cc(0, 649, 0, 0, "sAw6")]("C")[oc(0, 0, 1207, 0, "U($[")]((n => n[Qc(1018, 924, "YRfT", 1109, 936) + "ce"](/[^\d]+/g, " ")[cc(0, 454, 0, 0, "j6gf")]()[cc(0, 607, 0, 0, "lAln")](" ")[jr(0, 0, 797, 0, "lAln")](zr)))
    return d.slice(9).split("C").map(item => item.replace(/[^\d]+/g, " ").trim().split(" ").map(Number))
}

// p1是由tsv生成的一维数组
// p2是由svg的d属性生成的二维数组；
function createP5(ln) {
    // 返回div和一个匿名方法
    // const [kn,Cn] = Yr[rn(0, bt, "i[Ly")](mc);
    // 执行xc（动画相关）
    // Yr[rn(0, 327, wt)](xc, kn, dn[t], fn);
    // const ln = Yr[rn(0, 220, "W!QE")](rc, kn);
    // Hr[a(FW, 0, 0, "2h]A")]： n + t
    // Hr[f(0, 0, "8*48", 0, -155)]：n / t
    // Hr[e(0, 815, 0, KW, "ph%M")]：n * t
    // n：n[6]
    // Hr[k(0, 94, "$dag", xW)]：n - t
    // 根据一些属性，计算出返回值
    var Nc = Array.from(("" + ln['color'] + ln['transform'])['matchAll'](/([\d.-]+)/g))['map']((n => Number(Number(n[0])["toFixed"](2))))
    // ['toString'](16)))['join']("")["replace"](/[.-]/g, "");
    return Nc;
}

// 工具函数：将十六进制颜色转换为 RGB 数组
function hexToRgb(hex) {
    const bigint = parseInt(hex.slice(1), 16);
    return [(bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];
}

// 工具函数：RGB数组转十六进制
function rgbToHex(rgb) {
    return "#" + rgb.map(x => {
        const hex = x.toString(16);
        return hex.length === 1 ? "0" + hex : hex;
    }).join('');
}

// 插值函数：线性插值两个数值
function lerp(start, end, t) {
    return start + (end - start) * t;
}

// Bezier Easing 函数（来自 bezier-easing 库简化版）
function cubicBezier(t, p1x, p1y, p2x, p2y) {
    const eps = 1e-6;

    function calcBezier(t, p1x, p2x) {
        return 3 * p1x * (1 - t) * (1 - t) * t +
               3 * p2x * (1 - t) * t * t +
               t * t * t;
    }

    function getTforX(x) {
        let tL = 0, tH = 1, tM;
        while (Math.abs(tH - tL) > eps) {
            tM = (tL + tH) / 2;
            const xGuess = calcBezier(tM, p1x, p2x);
            if (xGuess < x) tL = tM; else tH = tM;
        }
        return tM;
    }

    if (t <= 0) return 0;
    if (t >= 1) return 1;
    return calcBezier(getTforX(t), p1y, p2y);
}

// 工具函数：将 rotate 转换为 matrix
function rotateToMatrix(degrees) {
    const rad = degrees * Math.PI / 180;
    const cos = Math.cos(rad);
    const sin = Math.sin(rad);
    return `matrix(${cos.toFixed(6)}, ${sin.toFixed(6)}, ${(-sin).toFixed(6)}, ${cos.toFixed(6)}, 0, 0)`;
}

// 主函数：根据 currentTime 和 easing 计算当前属性值
function computeAnimationValues(config, duration, currentTime) {
    const tNormalized = Math.max(0, Math.min(1, currentTime / duration));
    const easingValues = config.easing.match(/.*?\((.*?)\)/)[1].split(",").map(Number)
    const tEased = cubicBezier(tNormalized, ...easingValues);

    const result = {};

    // 颜色插值
    if (config.color) {
        const startColor = hexToRgb(config.color[0]);
        const endColor = hexToRgb(config.color[1]);
        const currentColor = [
            Math.round(lerp(startColor[0], endColor[0], tEased)),
            Math.round(lerp(startColor[1], endColor[1], tEased)),
            Math.round(lerp(startColor[2], endColor[2], tEased))
        ];
        result.color = {
            rgb: `rgb(${currentColor.join(',')})`,
            hex: rgbToHex(currentColor)
        };
    }

    // transform rotate 插值 + 转 matrix
    if (config.transform) {
        const startDeg = parseFloat(config.transform[0].match(/-?\d+/)[0]);
        const endDeg = parseFloat(config.transform[1].match(/-?\d+/)[0]);
        const currentDeg = lerp(startDeg, endDeg, tEased);
        result.transform = {
            rotate: `rotate(${currentDeg.toFixed(2)}deg)`,
            matrix: rotateToMatrix(currentDeg)
        };
    }

    return result;
}

const Hr = {
    sTXrz: function(n, t) {
        return n + t
    },
    aFaqC: function(n, t) {
        return n / t
    },
    tIRXP: function(n, t) {
        return n * t
    },
    Heegj: function(n, t) {
        return n - t
    },
    qCCer: function(n, t) {
        return n(t)
    },
    JJxdl: function(n, t) {
        return n !== t
    },
    // JzoMX: po("2h]A", n, 196, t, W),
    // HDfWN: po(")N6E", o, 258, u, c),
    // eqPaL: po(e, i, k, f, a),
    IpZPM: function(n, t) {
        return n(t)
    },
    DHiWE: function(n, t) {
        return n(t)
    },
    YfFNi: function(n, t) {
        return n % t
    },
    yGiXE: function(n, t) {
        return n === t
    },
    // Vbxlk: jr(0, 0, 0, 976, "SJXG"),
    // VmQCo: po("Mbmx", d, m, C, 266),
    HQEuj: function(n, t) {
        return n(t)
    },
    kHgiW: function(n, t) {
        return n * t
    },
    UoXGF: function(n, t) {
        return n / t
    },
    NbUlT: function(n, t) {
        return n === t
    },
    // uDnPM: jr(0, 0, 0, s, v),
    NwcGI: function(n, t) {
        return n / t
    },
    slAir: function(n, t) {
        return n * t
    },
    FmgRL: function(n, t) {
        return n - t
    },
    dPnbs: function(n, t) {
        return n(t)
    },
    duCWP: function(n, t) {
        return n(t)
    },
    fUUce: function(n, t) {
        return n % t
    },
    NirKJ: function(n, t) {
        return n !== t
    },
    // TYnld: jr(0, 0, 0, 939, "ph%M"),
    // MemjJ: jr(0, 0, 0, P, S),
    nIPYY: function(n, t) {
        return n % t
    },
    KZkWz: function(n, t) {
        return n(t)
    },
    tbtiY: function(n, t) {
        return n % t
    },
    xjcln: function(n) {
        return n()
    },
    // EgAbW: go(l, O, R, q, 562),
    // gZjgT: go(519, 399, G, 428, Q),
    ONqDe: function(n, t) {
        return n % t
    },
    yKeoX: function(n, t) {
        return n * t
    },
    DyztN: function(n, t) {
        return n * t
    },
    sNkxM: function(n, t, W) {
        return n(t, W)
    },
    // dgRLv: jr(0, 0, 0, h, w) + po(z, 245, 226, N, L),
    ZTLem: function(n, t, W, r) {
        return n(t, W, r)
    },
    HMWoG: function(n, t) {
        return n(t)
    },
    StdnL: function(n, t) {
        return n(t)
    },
    sxrqA: function(n) {
        return n()
    },
    sHEBN: function(n, t) {
        return n / t
    },
    OyBku: function(n, t) {
        return n - t
    },
    jGlYy: function(n) {
        return n()
    },
    gjkTH: function(n, t) {
        return n(t)
    },
    QPJeV: function(n, t) {
        return n(t)
    },
    lFEbY: function(n, t) {
        return n(t)
    },
    TKvNa: function(n, t) {
        return n + t
    },
    lTvez: function(n, t) {
        return n + t
    },
    // zCuNf: jr(0, 0, 0, F, "UAxt") + eo(-126, K, x, -g, -228) + go(p, 668, I, b, y),
    jZGmF: function(n, t) {
        return n ** t
    }
}

// 获取tsv、d参数
function parseHtml() {

}

// const config = {
//     color: ["#fe3254", "#14b574"],
//     transform: ["rotate(0deg)", "rotate(269deg)"],
//     easing: "cubic-bezier(0.87,0.36,0.98,0.96)"
// };

// const config = {
//     "color": [
//         "#3cfcd8",
//         "#6f78ae"
//     ],
//     "transform": [
//         "rotate(0deg)",
//         "rotate(294deg)"
//     ],
//     "easing": "cubic-bezier(0.81,0.83,0.95,0.33)"
// };

// const duration = 4096;
// const currentTime = 110;

// const values = computeAnimationValues(config, duration, currentTime);
// console.log(values);